# Schema for sprint documents
# Extends base schema with sprint-specific fields

include('base.yaml')

sprint_number: int(required=True, min=1)
start_date: str(required=True, regex='^\d{4}-\d{2}-\d{2}$')
end_date: str(required=True, regex='^\d{4}-\d{2}-\d{2}$')
goals: list(str(), required=True, min=1)
phases: list(include('phase'), required=False)
team: list(include('team_member'), required=False)
success_metrics: list(include('metric'), required=False)

---
phase:
  phase: int(required=True, min=0)
  name: str(required=True)
  duration_days: int(required=True, min=1)
  status: str(required=True, enum=['pending', 'in_progress', 'completed', 'blocked'])
  tasks: list(str(), required=False)

---
team_member:
  role: str(required=True)
  agent: str(required=True)

---
metric:
  metric: str(required=True)
  target: num(required=True)
  unit: str(required=True)